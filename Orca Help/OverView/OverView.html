<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive">		<title>Untitled Page</title>	</head>	<body bgcolor="#cae7d8">		<div align="center">			<h2>ORCA Overview</h2>		</div>		<p>ORCA stands for <i>O</i>bject-oriented <i>R</i>eal-time <i>C</i>ontrol and <i>A</i>cquisition. ORCA is a data acquisition application for the MacOS X operating system. The goal is to provide a general purpose, highly modular, object-oriented, acquisition and control system that is easy to use, develop, and maintain. To this end, ORCA is written using the MacOS X Cocoa application framework development environment and Objective-C. Its general-purpose design enables a user to easily configure it at run-time to represent different hardware configurations and data read-out schemes.</p>		<p>ORCA also uses many ideas that were developed at the <a href="http://www.npl.washington.edu">Center for Experimental Nuclear Physics and Astrophysics</a> for the SNO Hardware Acquisition and Real-time Control (SHaRC) DAQ software that is used to read out the PMT array of the <a href="http://www.sno.phy.queensu.ca/">SNO experiment</a>.</p>		<p>The ORCA software architecture is based on the Model-View-Controller (MVC) design pattern that is common in object-oriented design. In this case, the models are sets of independent object-oriented software modules that correspond directly to hardware objects, data acquisition tasks, control modules, or data analysis modules. The views are associated dialogs or user interface elements that only deal with displaying a model&rsquo;s data or state. The controllers arbitrate between the models and the views by passing data from the models to the views and passing user interactions from the views back to the models. Just one model, view, and controller generally represent each piece of hardware, but in some cases models may have multiple views and controllers.</p>				Each one of these objects is comprised of its own fully encapsulated data structures and support and diagnostic code.&nbsp; ORCA provides an application framework in which these software models can be connected together to represent systems of hardware, and can hence be thought of as being parts of an &ldquo;Object-oriented Software Bus&rdquo; (OSB), analogous to a standard hardware bus. This analogy is particularly useful when one of the objects represents a <a href="../Objects/Vme/VMECrate/VMECrate.html">VME crate</a>, for example, into which one can plug VME card objects.										<p>A key design feature of ORCA is the design of the internal, acquired <a href="../DataFormat.html">data stream</a> and how this stream is written out for <a href="../Objects/Misc/DataFile/DataFile.html">permanent storage</a>. Each hardware object is responsible for writing out both its hardware parameter settings as well as the actual data it acquires. A supervisory <a href="../Objects/Control/DataTask/DataTask.html">data collection object</a> controls which hardware objects are used in the experiment and the order and hierarchy of the read-out scheme. In this fashion a user can completely reconfigure the experimental hardware and the data read-out without rewriting any code or re-compiling the application. </p>		<p>ORCA is presents a typical mouse-controlled drag and drop graphical user interface that allows a user to select objects from an object <a href="../Getting%20Started/GettingStarted.html">catalog</a> and drag them into a <a href="../Getting%20Started/GettingStarted.html">configuration window</a> at run time. The following shows a screen shot of the main ORCA configuration dialog configured for use in the <a href="../Objects/SNO-NCD/SNO-NCD/SNONCD.html">NCD experiment.</a> </p>		<table width="737" border="0" cellspacing="0" cellpadding="0" cool gridx="16" gridy="16" height="573" showgridx showgridy>			<tr height="47">				<td width="736" height="47" colspan="21"></td>				<td width="1" height="47"><spacer type="block" width="1" height="47"></td>			</tr>			<tr height="10">				<td width="267" height="19" colspan="7" rowspan="2"></td>				<td content csheight="19" width="104" height="19" colspan="3" rowspan="2" valign="top" xpos="267"><a href="../Objects/Control/DataTask/DataTask.html">Data Collection</a></td>				<td width="78" height="19" colspan="2" rowspan="2"></td>				<td content csheight="19" width="75" height="19" colspan="2" rowspan="2" valign="top" xpos="449"><a href="../Objects/Misc/Dispatcher/Dispatcher.html">Dispatcher</a></td>				<td width="212" height="10" colspan="7"></td>				<td width="1" height="10"><spacer type="block" width="1" height="10"></td>			</tr>			<tr height="9">				<td width="117" height="9" colspan="2"></td>				<td content csheight="19" width="66" height="71" colspan="2" rowspan="2" valign="top" xpos="641"><a href="../Objects/Misc/DataFile/DataFile.html">Disk File</a></td>				<td width="29" height="71" colspan="3" rowspan="2"></td>				<td width="1" height="9"><spacer type="block" width="1" height="9"></td>			</tr>			<tr height="62">				<td width="172" height="62" colspan="6"></td>				<td width="469" height="481" colspan="10" rowspan="10" valign="top" align="left" xpos="172"><img src="OverviewConfig.gif" alt="" width="469" height="481" border="0"></td>				<td width="1" height="62"><spacer type="block" width="1" height="62"></td>			</tr>			<tr height="19">				<td width="74" height="19" colspan="4"></td>				<td content csheight="19" width="86" height="19" valign="top" xpos="74"><a href="../Objects/Control/RunControl/RunControl.html">Run Control</a></td>				<td width="12" height="19"></td>				<td width="95" height="19" colspan="5"></td>				<td width="1" height="19"><spacer type="block" width="1" height="19"></td>			</tr>			<tr height="79">				<td width="172" height="88" colspan="6" rowspan="2"></td>				<td width="3" height="148" rowspan="3"></td>				<td content csheight="37" width="76" height="79" colspan="2" valign="top" xpos="644"><a href="../Objects/Misc/DataCollection/DataCollection.html">Data Collection</a></td>				<td width="16" height="79" colspan="2"></td>				<td width="1" height="79"><spacer type="block" width="1" height="79"></td>			</tr>			<tr height="9">				<td content csheight="19" width="78" height="69" colspan="3" rowspan="2" valign="top" xpos="644"><a href="../Objects/Vme/VMECrate/VMECrate.html">Vme Crate</a></td>				<td width="14" height="168" rowspan="4"></td>				<td width="1" height="9"><spacer type="block" width="1" height="9"></td>			</tr>			<tr height="60">				<td width="67" height="60" colspan="3"></td>				<td content csheight="20" width="105" height="60" colspan="3" valign="top" xpos="67"><a href="../Objects/PCI/Computer/Computer.html">Host Computer</a></td>				<td width="1" height="60"><spacer type="block" width="1" height="60"></td>			</tr>			<tr height="31">				<td width="172" height="31" colspan="6"></td>				<td content csheight="38" width="81" height="99" colspan="4" rowspan="2" valign="top" xpos="641"><a href="../Objects/SNO-NCD/MuxBox/MuxBox.html">Ncd Multiplexers</a></td>				<td width="1" height="31"><spacer type="block" width="1" height="31"></td>			</tr>			<tr height="68">				<td width="67" height="68" colspan="3"></td>				<td content csheight="19" width="105" height="68" colspan="3" valign="top" xpos="67"><a href="../Objects/SNO-NCD/MuxController/MuxController.html">Ncd Mux Box</a></td>				<td width="1" height="68"><spacer type="block" width="1" height="68"></td>			</tr>			<tr height="5">				<td width="48" height="93" rowspan="2"></td>				<td content csheight="19" width="124" height="93" colspan="5" rowspan="2" valign="top" xpos="48"><a href="../Objects/SNO-NCD/PDS/PDS.html">Pulser Distribution</a></td>				<td width="95" height="5" colspan="5"></td>				<td width="1" height="5"><spacer type="block" width="1" height="5"></td>			</tr>			<tr height="88">				<td content csheight="37" width="95" height="88" colspan="5" valign="top" xpos="641"><a href="../Objects/Control/HVControl/HVControl.html">High Voltage Control</a></td>				<td width="1" height="88"><spacer type="block" width="1" height="88"></td>			</tr>			<tr height="60">				<td width="66" height="60" colspan="2"></td>				<td content csheight="19" width="106" height="60" colspan="4" valign="top" xpos="66"><a href="../Objects/GPIB/GPIB/GPIB.html">GPIB/ENet 100</a></td>				<td width="95" height="60" colspan="5"></td>				<td width="1" height="60"><spacer type="block" width="1" height="60"></td>			</tr>			<tr height="25">				<td width="281" height="25" colspan="8"></td>				<td content csheight="19" width="70" height="25" valign="top" xpos="281"><a href="../Objects/GPIB/Pulser/Pulser.html">HP Pulser</a></td>				<td width="59" height="25" colspan="2"></td>				<td content csheight="19" width="85" height="25" colspan="2" valign="top" xpos="410"><a href="../Objects/GPIB/Scope/Scope.html">Oscilloscope</a></td>				<td width="29" height="25"></td>				<td content csheight="20" width="83" height="25" valign="top" xpos="524"><a href="../Objects/GPIB/Scope/Scope.html">Oscilloscope</a></td>				<td width="129" height="25" colspan="6"></td>				<td width="1" height="25"><spacer type="block" width="1" height="25"></td>			</tr>			<tr height="1" cntrlrow>				<td width="48" height="1"><spacer type="block" width="48" height="1"></td>				<td width="18" height="1"><spacer type="block" width="18" height="1"></td>				<td width="1" height="1"><spacer type="block" width="1" height="1"></td>				<td width="7" height="1"><spacer type="block" width="7" height="1"></td>				<td width="86" height="1"><spacer type="block" width="86" height="1"></td>				<td width="12" height="1"><spacer type="block" width="12" height="1"></td>				<td width="95" height="1"><spacer type="block" width="95" height="1"></td>				<td width="14" height="1"><spacer type="block" width="14" height="1"></td>				<td width="70" height="1"><spacer type="block" width="70" height="1"></td>				<td width="20" height="1"><spacer type="block" width="20" height="1"></td>				<td width="39" height="1"><spacer type="block" width="39" height="1"></td>				<td width="39" height="1"><spacer type="block" width="39" height="1"></td>				<td width="46" height="1"><spacer type="block" width="46" height="1"></td>				<td width="29" height="1"><spacer type="block" width="29" height="1"></td>				<td width="83" height="1"><spacer type="block" width="83" height="1"></td>				<td width="34" height="1"><spacer type="block" width="34" height="1"></td>				<td width="3" height="1"><spacer type="block" width="3" height="1"></td>				<td width="63" height="1"><spacer type="block" width="63" height="1"></td>				<td width="13" height="1"><spacer type="block" width="13" height="1"></td>				<td width="2" height="1"><spacer type="block" width="2" height="1"></td>				<td width="14" height="1"><spacer type="block" width="14" height="1"></td>				<td width="1" height="1"></td>			</tr>		</table>		<table width="27" border="0" cellspacing="0" cellpadding="0" cool gridx="16" gridy="16" height="16" showgridx showgridy usegridx usegridy>			<tr height="15">				<td width="26" height="15"></td>				<td width="1" height="15"><spacer type="block" width="1" height="15"></td>			</tr>			<tr height="1" cntrlrow>				<td width="26" height="1"><spacer type="block" width="26" height="1"></td>				<td width="1" height="1"></td>			</tr>		</table>		<p>Each icon in the <a href="../Getting%20Started/GettingStarted.html">configuration window</a> represents either an actual physical piece of hardware or a read-out control element that can be double-clicked to bring up a control dialog. Also note that the icons have connection points that can be connected to define the flow of data and commands. All connections and system configurations are done at run-time so that no recompilation of ORCA is needed to reconfigure the application for a different experimental setup. Configurations can be saved and recalled as ORCA documents. All system activities are logged and can be viewed in a <a href="../Logs/StatusLog.html#StatusLogAchor">status window</a>. System-wide errors are counted and shown in the <a href="../Logs/StatusLog.html#errorWindow">error window</a>. In addition, you can keep a <a href="../Logs/StatusLog.html#Anchor-Log-47857">log book </a>of your activities. The content of  the status log and the log book can <a href="../Logs/StatusLog.html#Anchor-EMail-49575">e-mailed</a> on demand.</p>		<p>A generic <a href="../Objects/Control/RunControl/RunControl.html">run control</a> object has been built into ORCA that allows the type of run to be set by an operator. Runs can be of a predetermined length of time and they can be repeating or single shot runs. Of course, they can be stopped or restarted with the push of a button. <a href="../Objects/Control/RunControl/RunControl.html#RunNumberAnchor">Run numbers</a> are automatically assigned for each experiment. There is also a set of <a href="../Objects/Control/RunControl/RunControl.html#RunTypesAnchor">run identification bits</a> that can be set to uniquely label special run-time conditions that need to be known during analysis.</p>		<p>During a run, a <a href="../Objects/Misc/DataCollection/DataCollection.html">data collection</a> object can be used to monitor the quality of the data. The data monitor uses the data description section of the data stream to feed the data into a proxy object of the same type that originally generated the data. The proxy decodes the data and it is entered into a data catalog from which all histograms or waveforms can be selected and as <a href="(EmptyReference!)">plots</a>. All objects that follow the proper protocol will be able to participate automatically in the use of the data catalog and viewer. Offline analysis applications must rely on <a href="../DataFormat.html">documentation</a> to be able decode the data stream.</p>		<p>In addition to storing the data on a <a href="../Objects/Misc/DataFile/DataFile.html">local disk file</a>, ORCA can stream the data thru a <a href="../Objects/Misc/Dispatcher/Dispatcher.html">dispatcher socket</a> to any connected applications and has an option to <a href="../Objects/Misc/DataFile/DataFile.html#RemoteCopyanchor">remote copy</a> the data files to another machine at the end of a run. Clients connecting after a run has already started will get the original data description and parameter sections of the data stream but will have lost data up until the time that the connection is established.</p>		<p></p>	</body></html>