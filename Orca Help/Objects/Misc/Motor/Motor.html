<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive">		<title>Untitled Page</title>	</head>	<body bgcolor="#ffe6da">		<div align="center">			<h2><a name="Anchor-Stepper-35882" id="Anchor-Stepper-35882"></a>Stepper Motor</h2>		</div>		<div align="left">			<p>The stepper motor was developed to be used with the <a href="../../Vme/MCarrier/M321/M321.html">M321</a> M-module but can be used with any stepper motor controller that follows the proper protocols. The motor icon looks like this:<img src="motor.gif" alt="" width="65" height="55" align="top" border="0"></p>			<p></p>			<p><img src="motorConnection.gif" alt="" border="0" livesrc="motorConnection.gif" width="486" height="249"></p>			<p>Double-clicking on a motor will bring up the motor dialog. The motor dialog has three tabs, Run Ops, Manual Ops, and Profile/Patterns.</p>			<p><img src="Motor1.gif" alt="" border="0" livesrc="Motor1.gif" width="582" height="415"></p>			<p><img src="Motor3.gif" alt="" border="0" livesrc="Motor3.gif" width="783" height="394"></p>			<p></p>			<p><img src="Motor2.gif" alt="" border="0" livesrc="Motor2.gif" width="732" height="398"></p>			<p></p>			<h3>Motor Patterns and Linking Motors</h3>			<p>When running a motor pattern, motors can be chained together, i.e. for an x-y type scanning motion. Once the patterns are defined in the 'Profile/Patterns dialog the motors can be linked on the configuration page thus:</p>			<p><img src="Link.gif" alt="" border="0" livesrc="Link.gif" width="328" height="132"></p>			<p>The motor on the left becomes the master pattern controller and is the slowest pattern to be cycled. The motor on the right will finish each of its pattern sweeps for every one delta step of the left motor. More than two motors may be chained in this way.</p>			<h3>Motor Pattern Files</h3>			<p>It is possible to use a file to define a sweep pattern if non-uniform delta steps are desired. The format of the file is like this:</p>			<pre>4100,1.0150,1.0200,1.050,0.5......1000,1.0</pre>			<p>The first entry is the number of times the pattern will be run before finishing. The rest of the file contains comma separated number pairs that define the absolute motor position to move to and the time in seconds to dwell at that position.</p>			<h3>Motor Data Records</h3>			<p>If the 'Ship Position' option is selected, then a motor activity record will be inserted into the data stream at various stages during the pattern run. The record is four 32-bit words long and has the following format:</p>			<pre>xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx- word 1^^^^ ^^^^ ^^^^ ^^----------------------- the data ID                  ^^ ^^^^ ^^^^ ^^^^ ^^^^- the length (always 4)xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx- word2                                          unix ut timexxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx- word3^^^^------------------------------------ crate number     ^^^^ ^----------------------------- M-Carrier Vme slot number           ^^^-------------------------- Motor controller M-module slot               ^^----------------------- Motor number                    ^^^^---------------- Motor state (see below)xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx- word 4                                         motor position              </pre>			<P>The motor state in word 3 has the following meaning:</p>			<ul>				<li>0 pattern is starting				<li>1 moving to start position				<li>2 motor is moving				<li>3 at delta position. Motor will start dwell cycle if dwell time is non-zero.				<li>4 at end of sweep				<li>5 a delta step is done			</ul>			<p>Notice that not all of these states are inserted in the data stream at this time. You will only see states 0, 1, 3, 4, and 5. The other states are internal and do not cause a record to be shipped. Note also that state 5 will not be shipped if the dwell time is zero.</p>		</div>	</body></html>